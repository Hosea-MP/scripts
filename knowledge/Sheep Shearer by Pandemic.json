{
  "sleep": "500",
  "name": "Sheep Shearer",
  "version": 1.0,
  "metadata": {
    "network-id": "13",
    "network-downloaded-at": "1721665187583"
  },
  "actions": [
    {
      "id": "IF_FIRST_RUN",
      "children": [
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "We\u0027ll set a few variables to avoid copy and pasting a ton"
          }
        },
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "(3189, 3273)",
            "Variable name": "Farmer Tile"
          }
        },
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "(3199, 3268)",
            "Variable name": "Sheep Tile"
          }
        },
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "(3209, 3213, 1)",
            "Variable name": "Spinning Wheel Tile"
          }
        }
      ]
    },
    {
      "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
      "properties": {
        "Filter Item By": {
          "class": "Item",
          "logic": "NONE",
          "type": "NAME",
          "operator": "EQUALS",
          "value": "Shears"
        }
      }
    },
    {
      "id": "OR_BRANCH"
    },
    {
      "id": "IF_PLAYER_SETTING_MATCHES",
      "customDisplayName": "If we haven\u0027t started the quest",
      "properties": {
        "value": {
          "class": "Number",
          "operator": "EQUALS",
          "value": "0"
        },
        "Player Setting": "179"
      },
      "children": [
        {
          "id": "IF_IN_DIALOGUE",
          "children": [
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "If we\u0027re already in a dialogue, we\u0027ll just spam continue"
              }
            },
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "and choose the correct options once they\u0027re available."
              }
            },
            {
              "id": "SPACEBAR_TO_CONTINUE"
            },
            {
              "id": "CHOOSE_OPTION_CONTAINING",
              "customDisplayName": "Agree to help when available",
              "properties": {
                "Text": "I\u0027m looking for a quest."
              }
            },
            {
              "id": "CHOOSE_OPTION_CONTAINING",
              "customDisplayName": "Select the Yes option when available",
              "properties": {
                "Text": "Yes"
              }
            },
            {
              "id": "SLEEP_UNTIL_GAME_TICK"
            }
          ]
        },
        {
          "id": "ELSE_BRANCH",
          "children": [
            {
              "id": "CUSTOM_c2dd6ae1-9c5e-4870-b48f-3737ab0513b4",
              "properties": {
                "NPC Name": "Fred the Farmer",
                "Tile": "var(Farmer Tile)"
              }
            }
          ]
        },
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "The above is a custom action, right click it and press Save"
          }
        },
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "action, then right it click and press Edit action to see what"
          }
        },
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "it does!"
          }
        }
      ]
    },
    {
      "id": "IF_PLAYER_SETTING_MATCHES",
      "customDisplayName": "If we still need to collect balls of wool",
      "properties": {
        "value": {
          "class": "Number",
          "operator": "LESS_THAN",
          "value": "21"
        },
        "Player Setting": "179"
      },
      "children": [
        {
          "id": "SET_VARIABLE_TO_LAST_OUTPUT",
          "customDisplayName": "Store the config value to see how many more we need",
          "properties": {
            "Variable name": "Balls Left"
          }
        },
        {
          "id": "SUBTRACT_FROM_VARIABLE",
          "properties": {
            "Variable name": "Balls Left",
            "By": "1"
          }
        },
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "sub(20, var(Balls Left))",
            "Variable name": "Balls Left"
          }
        },
        {
          "id": "IF_INVENTORY_COUNT",
          "properties": {
            "count": {
              "class": "Number",
              "operator": "EQUALS",
              "value": "var(Balls Left)"
            },
            "Filter Item By": {
              "class": "Item",
              "logic": "NONE",
              "type": "NAME",
              "operator": "EQUALS",
              "value": "Ball of wool"
            }
          }
        },
        {
          "id": "OR_BRANCH"
        },
        {
          "id": "IF_INVENTORY_IS_FULL",
          "children": [
            {
              "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
              "properties": {
                "Filter Item By": {
                  "class": "Item",
                  "logic": "NONE",
                  "type": "NAME",
                  "operator": "EQUALS",
                  "value": "Wool"
                }
              },
              "children": [
                {
                  "id": "COMMENT",
                  "properties": {
                    "Comment": "If our inventory is full of balls of wool"
                  }
                },
                {
                  "id": "IF_IN_DIALOGUE",
                  "children": [
                    {
                      "id": "SPACEBAR_TO_CONTINUE"
                    },
                    {
                      "id": "CHOOSE_OPTION_CONTAINING",
                      "properties": {
                        "Text": "shearing these sheep"
                      }
                    },
                    {
                      "id": "SLEEP_UNTIL_GAME_TICK"
                    },
                    {
                      "id": "RETURN_TO_START_OF_SCRIPT"
                    }
                  ]
                },
                {
                  "id": "CUSTOM_c2dd6ae1-9c5e-4870-b48f-3737ab0513b4",
                  "properties": {
                    "NPC Name": "Fred the Farmer",
                    "Tile": "var(Farmer Tile)"
                  }
                }
              ]
            },
            {
              "id": "ELSE_BRANCH",
              "children": [
                {
                  "id": "COMMENT",
                  "properties": {
                    "Comment": "Our inventory has Wool, time to spin it!"
                  }
                },
                {
                  "id": "IF_LOCAL_PLAYER_Z_IS",
                  "properties": {
                    "Z": {
                      "class": "Number",
                      "operator": "EQUALS",
                      "value": "1"
                    }
                  }
                },
                {
                  "id": "AND_BRANCH"
                },
                {
                  "id": "IF_DISTANCE_TO_TILE_IS",
                  "properties": {
                    "distance": {
                      "class": "Number",
                      "operator": "LESS_THAN",
                      "value": "5"
                    },
                    "Tile": "var(Spinning Wheel Tile)"
                  },
                  "children": [
                    {
                      "id": "IF_ITEM_PROCESSING_IS_NOT_OPEN",
                      "children": [
                        {
                          "id": "GAME_OBJECT_INTERACT",
                          "properties": {
                            "Filter Object By": {
                              "class": "GameObject",
                              "logic": "NONE",
                              "type": "NAME",
                              "operator": "EQUALS",
                              "value": "Spinning wheel"
                            },
                            "Don\u0027t walk to object": false,
                            "Action": "Spin"
                          }
                        },
                        {
                          "id": "SLEEP_WHILE_MOVING"
                        },
                        {
                          "id": "SLEEP_FOR_GAME_TICKS",
                          "properties": {
                            "Ticks": "2"
                          }
                        }
                      ]
                    },
                    {
                      "id": "MAKE_ALL_ITEM_PROCESSING",
                      "properties": {
                        "Filter Item By": {
                          "class": "Item",
                          "logic": "NONE",
                          "type": "NAME",
                          "operator": "EQUALS",
                          "value": "Ball of wool"
                        }
                      },
                      "children": [
                        {
                          "id": "SLEEP_WHILE_ANIMATING",
                          "properties": {
                            "Stopped for (seconds)": "2"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH",
                  "children": [
                    {
                      "id": "WALK_TO_TILE",
                      "properties": {
                        "Tile": "var(Spinning Wheel Tile)"
                      }
                    },
                    {
                      "id": "SLEEP_BETWEEN",
                      "properties": {
                        "Minimum": "1000",
                        "Maximum": "2000"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "ELSE_BRANCH",
          "children": [
            {
              "id": "IF_DISTANCE_TO_TILE_IS",
              "properties": {
                "distance": {
                  "class": "Number",
                  "operator": "GREATER_THAN",
                  "value": "10"
                },
                "Tile": "var(Sheep Tile)"
              },
              "children": [
                {
                  "id": "WALK_TO_TILE",
                  "properties": {
                    "Tile": "var(Sheep Tile)"
                  }
                },
                {
                  "id": "SLEEP_BETWEEN",
                  "properties": {
                    "Minimum": "1000",
                    "Maximum": "2000"
                  }
                }
              ]
            },
            {
              "id": "ELSE_BRANCH",
              "children": [
                {
                  "id": "NPC_INTERACT",
                  "properties": {
                    "Action": "Shear",
                    "Don\u0027t walk to NPC": false,
                    "Force left click": false,
                    "Filter NPC By": {
                      "class": "NPC",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "Sheep",
                      "filters": [
                        {
                          "class": "NPC",
                          "logic": "AND",
                          "type": "ID",
                          "operator": "DOES_NOT_EQUAL",
                          "value": "731"
                        }
                      ]
                    }
                  },
                  "children": [
                    {
                      "id": "SLEEP_WHILE_MOVING"
                    },
                    {
                      "id": "SLEEP_WHILE_ANIMATING"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "ELSE_BRANCH",
      "children": [
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "We\u0027ve completed the quest, good job!"
          }
        },
        {
          "id": "STOP_SCRIPT"
        }
      ]
    }
  ],
  "customActions": {
    "c2dd6ae1-9c5e-4870-b48f-3737ab0513b4": {
      "id": "c2dd6ae1-9c5e-4870-b48f-3737ab0513b4",
      "name": "Walk or talk to NPC",
      "description": "This custom action will walk to the NPC with the name given, and talk to them once close enough.",
      "parameters": "NPC Name,Tile",
      "fail": false,
      "actions": [
        {
          "id": "IF_DISTANCE_TO_TILE_IS",
          "properties": {
            "distance": {
              "class": "Number",
              "operator": "GREATER_THAN",
              "value": "5"
            },
            "Tile": "var(Farmer Tile)"
          },
          "children": [
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "Notice how we use parameter() here instead of var()"
              }
            },
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "Parameters are passed into the custom action."
              }
            },
            {
              "id": "WALK_TO_TILE",
              "properties": {
                "Tile": "parameter(Tile)"
              }
            },
            {
              "id": "SLEEP_BETWEEN",
              "properties": {
                "Minimum": "1000",
                "Maximum": "2000"
              }
            }
          ]
        },
        {
          "id": "ELSE_BRANCH",
          "children": [
            {
              "id": "NPC_INTERACT",
              "properties": {
                "Action": "Talk-to",
                "Don\u0027t walk to NPC": false,
                "Force left click": false,
                "Filter NPC By": {
                  "class": "NPC",
                  "logic": "NONE",
                  "type": "NAME",
                  "operator": "EQUALS",
                  "value": "parameter(NPC Name)"
                }
              },
              "children": [
                {
                  "id": "SLEEP_WHILE_MOVING"
                },
                {
                  "id": "SLEEP_UNTIL_GAME_TICK"
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
