{
  "id": "5ba64cb3-1a6f-4354-bf74-9f475966b7c8",
  "name": "Grand Exchange \u003e Buying \u003e Supplies",
  "description": "[Set restock amounts externally as \"(ITEM)_RESTOCK\"] Will buy supplies from SUPPLY_LIST. It will also calculate how many of each we have (item name)_COUNT and how many we need (item name)_RESTOCK to BUY_AMOUNT. SUPPLY_LIST clears so have it add items to list before-hand.",
  "parameters": "",
  "fail": false,
  "actions": [
    {
      "id": "IF_LIST_SIZE_IS",
      "properties": {
        "size": {
          "class": "Number",
          "operator": "GREATER_THAN",
          "value": "0"
        },
        "List name": "SUPPLY_LIST"
      },
      "children": [
        {
          "id": "PAUSE_ITEM_TRACKER"
        },
        {
          "id": "CUSTOM_e7889949-c7d5-4cdb-8f10-d25eb839ef97"
        },
        {
          "id": "CREATE_LABEL",
          "properties": {
            "Label": "Wealth Check"
          },
          "children": [
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "0",
                "Variable name": "COIN_CHECK"
              }
            },
            {
              "id": "FOR_EACH_IN_LIST",
              "properties": {
                "List name": "SUPPLY_LIST"
              },
              "children": [
                {
                  "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                  "customDisplayName": "Set variable \u0027SUPPLY_CHECK\u0027 to the last action\u0027s output",
                  "properties": {
                    "Variable name": "SUPPLY_CHECK"
                  },
                  "children": [
                    {
                      "id": "SET_TO_ITEM_LIVE_PRICE_NAME",
                      "properties": {
                        "Name": "v(SUPPLY_CHECK)",
                        "Variable name": "LIVE_PRICE"
                      },
                      "children": [
                        {
                          "id": "IF_VARIABLE_IS_NOT_SET",
                          "properties": {
                            "Variable name": "v(SUPPLY_CHECK)_RESTOCK"
                          },
                          "children": [
                            {
                              "id": "SET_VARIABLE",
                              "properties": {
                                "Value": "1",
                                "Variable name": "v(SUPPLY_CHECK)_COUNT"
                              },
                              "children": [
                                {
                                  "id": "SET_VARIABLE",
                                  "customDisplayName": "Set variable BUY_AMOUNT to v(v(SUPPLY_CHECK)_COUNT)",
                                  "properties": {
                                    "Value": "v(v(SUPPLY_CHECK)_COUNT)",
                                    "Variable name": "BUY_AMOUNT"
                                  },
                                  "children": [
                                    {
                                      "id": "ADD_TO_VARIABLE",
                                      "properties": {
                                        "Variable name": "COIN_CHECK",
                                        "By": "mul(v(LIVE_PRICE), v(BUY_AMOUNT), 1.51)"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": "ELSE_BRANCH",
                          "children": [
                            {
                              "id": "IF_BANK_COUNT",
                              "properties": {
                                "count": {
                                  "class": "Number",
                                  "operator": "LESS_THAN_OR_EQUALS",
                                  "value": "mul(v(v(SUPPLY_CHECK)_RESTOCK), 0.25)"
                                },
                                "Filter Item By": {
                                  "class": "Item",
                                  "logic": "NONE",
                                  "type": "NAME",
                                  "operator": "EQUALS",
                                  "value": "v(SUPPLY_CHECK)"
                                }
                              },
                              "children": [
                                {
                                  "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                                  "customDisplayName": "Set variable v(SUPPLY_CHECK)_COUNT to the last action\u0027s output",
                                  "properties": {
                                    "Variable name": "v(SUPPLY_CHECK)_COUNT"
                                  },
                                  "children": [
                                    {
                                      "id": "SET_VARIABLE",
                                      "customDisplayName": "Set variable BUY_AMOUNT to sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                                      "properties": {
                                        "Value": "sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                                        "Variable name": "BUY_AMOUNT"
                                      },
                                      "children": [
                                        {
                                          "id": "ADD_TO_VARIABLE",
                                          "properties": {
                                            "Variable name": "COIN_CHECK",
                                            "By": "mul(v(LIVE_PRICE), v(BUY_AMOUNT), 2.1)"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "id": "IF_VARIABLE_IS",
              "properties": {
                "Filter Value By": {
                  "class": "Variable",
                  "logic": "NONE",
                  "type": "AS_NUMBER",
                  "operator": "LESS_THAN",
                  "value": "v(COIN_CHECK)"
                },
                "Variable name": "COIN_COUNT"
              },
              "children": [
                {
                  "id": "CUSTOM_410c42c3-12ac-4830-9b14-01b00fe4a5cb",
                  "children": [
                    {
                      "id": "PAUSE_ITEM_TRACKER"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "CUSTOM_621c517e-383e-4e00-aab9-d5955f5b863c"
        },
        {
          "id": "CREATE_LABEL",
          "properties": {
            "Label": "Buy After Collect"
          },
          "children": [
            {
              "id": "PAUSE_ITEM_TRACKER"
            },
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "BuySupplies1",
                "Variable name": "CURRENT_TASK"
              }
            },
            {
              "id": "FOR_EACH_IN_LIST",
              "customDisplayName": "For each in list SUPPLY_LIST",
              "properties": {
                "List name": "SUPPLY_LIST",
                "Reverse order": false
              },
              "children": [
                {
                  "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                  "customDisplayName": "Set variable SUPPLY_CHECK to the last action\u0027s output",
                  "properties": {
                    "Variable name": "SUPPLY_CHECK"
                  },
                  "children": [
                    {
                      "id": "SET_TO_ITEM_LIVE_PRICE_NAME",
                      "customDisplayName": "Set variable \u0027LIVE_PRICE\u0027 to the item\u0027s live price value",
                      "properties": {
                        "Variable name": "LIVE_PRICE",
                        "Name": "v(SUPPLY_CHECK)"
                      }
                    }
                  ]
                },
                {
                  "id": "IF_VARIABLE_IS_NOT_SET",
                  "properties": {
                    "Variable name": "v(SUPPLY_CHECK)_RESTOCK"
                  },
                  "children": [
                    {
                      "id": "SET_VARIABLE",
                      "properties": {
                        "Value": "1",
                        "Variable name": "v(SUPPLY_CHECK)_COUNT"
                      },
                      "children": [
                        {
                          "id": "SET_VARIABLE",
                          "customDisplayName": "Set variable BUY_AMOUNT to v(v(SUPPLY_CHECK)_COUNT)",
                          "properties": {
                            "Value": "v(v(SUPPLY_CHECK)_COUNT)",
                            "Variable name": "BUY_AMOUNT"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH",
                  "children": [
                    {
                      "id": "IF_BANK_COUNT",
                      "properties": {
                        "count": {
                          "class": "Number",
                          "operator": "LESS_THAN_OR_EQUALS",
                          "value": "mul(v(v(SUPPLY_CHECK)_RESTOCK), 0.25)"
                        },
                        "Filter Item By": {
                          "class": "Item",
                          "logic": "NONE",
                          "type": "NAME",
                          "operator": "EQUALS",
                          "value": "v(SUPPLY_CHECK)"
                        }
                      },
                      "children": [
                        {
                          "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                          "customDisplayName": "Set variable v(SUPPLY_CHECK)_COUNT to the last action\u0027s output",
                          "properties": {
                            "Variable name": "v(SUPPLY_CHECK)_COUNT"
                          },
                          "children": [
                            {
                              "id": "SET_VARIABLE",
                              "customDisplayName": "Set variable BUY_AMOUNT to sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                              "properties": {
                                "Value": "sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                                "Variable name": "BUY_AMOUNT"
                              }
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "ELSE_BRANCH",
                      "children": [
                        {
                          "id": "SET_VARIABLE",
                          "customDisplayName": "Set variable BUY_AMOUNT to 0",
                          "properties": {
                            "Value": "0",
                            "Variable name": "BUY_AMOUNT"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_BANK_COUNT",
                  "customDisplayName": "If bank count of v(SUPPLY_CHECK) is v(v(SUPPLY_CHECK)_RESTOCK) or more",
                  "properties": {
                    "count": {
                      "class": "Number",
                      "operator": "GREATER_THAN_OR_EQUALS",
                      "value": "mul(v(v(SUPPLY_CHECK)_RESTOCK), 0.25)"
                    },
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "REMOVE_FROM_LIST",
                      "properties": {
                        "Value": "v(SUPPLY_CHECK)",
                        "List name": "SUPPLY_LIST"
                      },
                      "children": [
                        {
                          "id": "IF_LIST_SIZE_IS",
                          "properties": {
                            "size": {
                              "class": "Number",
                              "operator": "EQUALS",
                              "value": "0"
                            },
                            "List name": "SUPPLY_LIST"
                          },
                          "children": [
                            {
                              "id": "GO_TO_LABEL",
                              "customDisplayName": "Go to \u0027End Buyer\u0027",
                              "properties": {
                                "Label": "End Buyer"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_OFFER_EXISTS",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
                      "children": [
                        {
                          "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                          "children": [
                            {
                              "id": "SLEEP_UNTIL_INSIDE_IS_TRUE",
                              "children": [
                                {
                                  "id": "IF_OFFER_DOES_NOT_EXIST",
                                  "properties": {
                                    "Filter Item By": {
                                      "class": "Item",
                                      "logic": "NONE",
                                      "type": "NAME",
                                      "operator": "EQUALS",
                                      "value": "v(SUPPLY_CHECK)"
                                    }
                                  }
                                }
                              ]
                            },
                            {
                              "id": "REMOVE_FROM_LIST",
                              "properties": {
                                "Value": "v(SUPPLY_CHECK)",
                                "List name": "SUPPLY_LIST"
                              },
                              "children": [
                                {
                                  "id": "IF_LIST_SIZE_IS",
                                  "properties": {
                                    "size": {
                                      "class": "Number",
                                      "operator": "EQUALS",
                                      "value": "0"
                                    },
                                    "List name": "SUPPLY_LIST"
                                  },
                                  "children": [
                                    {
                                      "id": "GO_TO_LABEL",
                                      "properties": {
                                        "Label": "End Buyer"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_OFFER_DOES_NOT_EXIST",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "IF_VARIABLE_IS_NOT",
                      "properties": {
                        "Filter Value By": {
                          "class": "Variable",
                          "logic": "NONE",
                          "type": "AS_NUMBER",
                          "operator": "EQUALS",
                          "value": "0"
                        },
                        "Variable name": "BUY_AMOUNT"
                      },
                      "children": [
                        {
                          "id": "IF_ANY_SLOT_IS_EMPTY",
                          "children": [
                            {
                              "id": "BUY_ITEM_GRAND_EXCHANGE",
                              "customDisplayName": "Buy item v(SUPPLY_CHECK) for v(LIVE_PRICE)",
                              "properties": {
                                "Item Name": "v(SUPPLY_CHECK)",
                                "Price": "mul(v(LIVE_PRICE), 1.25)",
                                "Amount": "v(BUY_AMOUNT)"
                              },
                              "children": [
                                {
                                  "id": "SLEEP_BETWEEN",
                                  "properties": {
                                    "Minimum": "1000",
                                    "Maximum": "3000"
                                  }
                                },
                                {
                                  "id": "IF_GAME_MESSAGE_RECEIVED_MATCHES",
                                  "properties": {
                                    "Filter Message": {
                                      "class": "Message",
                                      "logic": "NONE",
                                      "type": "TEXT",
                                      "operator": "CONTAINS",
                                      "value": "That offer costs"
                                    }
                                  },
                                  "children": [
                                    {
                                      "id": "SET_VARIABLE",
                                      "properties": {
                                        "Value": "true",
                                        "Variable name": "BROKE"
                                      },
                                      "children": [
                                        {
                                          "id": "GO_TO_LABEL",
                                          "properties": {
                                            "Label": "End Buyer"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": "IF_LIST_SIZE_IS",
                                  "properties": {
                                    "size": {
                                      "class": "Number",
                                      "operator": "EQUALS",
                                      "value": "0"
                                    },
                                    "List name": "SUPPLY_LIST"
                                  },
                                  "children": [
                                    {
                                      "id": "GO_TO_LABEL",
                                      "properties": {
                                        "Label": "End Buyer"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH",
                  "children": [
                    {
                      "id": "IF_NO_SLOTS_ARE_EMPTY",
                      "children": [
                        {
                          "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
                          "children": [
                            {
                              "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                              "children": [
                                {
                                  "id": "SLEEP_BETWEEN",
                                  "properties": {
                                    "Minimum": "1000",
                                    "Maximum": "3000"
                                  },
                                  "children": [
                                    {
                                      "id": "IF_LIST_SIZE_IS",
                                      "properties": {
                                        "size": {
                                          "class": "Number",
                                          "operator": "EQUALS",
                                          "value": "0"
                                        },
                                        "List name": "SUPPLY_LIST"
                                      },
                                      "children": [
                                        {
                                          "id": "GO_TO_LABEL",
                                          "properties": {
                                            "Label": "End Buyer"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "id": "ELSE_BRANCH",
                                      "children": [
                                        {
                                          "id": "GO_TO_LABEL",
                                          "properties": {
                                            "Label": "Buy After Collect"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": "IF_GRAND_EXCHANGE_NOT_READY_TO_COLLECT",
                          "children": [
                            {
                              "id": "SLEEP_UNTIL_INSIDE_IS_TRUE",
                              "properties": {
                                "Max time (seconds)": "10"
                              },
                              "children": [
                                {
                                  "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT"
                                }
                              ]
                            },
                            {
                              "id": "SLEEP_BETWEEN",
                              "properties": {
                                "Minimum": "5000",
                                "Maximum": "10000"
                              },
                              "children": [
                                {
                                  "id": "CANCEL_ALL_OFFERS",
                                  "children": [
                                    {
                                      "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                                      "children": [
                                        {
                                          "id": "SLEEP_BETWEEN",
                                          "properties": {
                                            "Minimum": "1000",
                                            "Maximum": "3000"
                                          },
                                          "children": [
                                            {
                                              "id": "IF_LIST_SIZE_IS",
                                              "properties": {
                                                "size": {
                                                  "class": "Number",
                                                  "operator": "EQUALS",
                                                  "value": "0"
                                                },
                                                "List name": "SUPPLY_LIST"
                                              },
                                              "children": [
                                                {
                                                  "id": "GO_TO_LABEL",
                                                  "properties": {
                                                    "Label": "End Buyer"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "id": "ELSE_BRANCH",
                                              "children": [
                                                {
                                                  "id": "GO_TO_LABEL",
                                                  "properties": {
                                                    "Label": "Buy After Collect"
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
          "children": [
            {
              "id": "CUSTOM_613d1cd6-05ce-4ddc-ba25-f0e995146419"
            },
            {
              "id": "COLLECT_TO_BANK_GRAND_EXCHANGE"
            }
          ]
        },
        {
          "id": "CUSTOM_7b65bab3-1208-4d4a-90da-91764d48f8ed",
          "children": [
            {
              "id": "CUSTOM_59b0d6d5-80ef-4fde-a09a-4da2e972c4b2",
              "children": [
                {
                  "id": "CUSTOM_1185c37e-088d-41e8-bf49-0abf9b226030"
                }
              ]
            }
          ]
        },
        {
          "id": "CUSTOM_621c517e-383e-4e00-aab9-d5955f5b863c"
        },
        {
          "id": "CREATE_LABEL",
          "properties": {
            "Label": "Buy After Collect2"
          },
          "children": [
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "BuySupplies2",
                "Variable name": "CURRENT_TASK"
              }
            },
            {
              "id": "FOR_EACH_IN_LIST",
              "customDisplayName": "For each in list SUPPLY_LIST",
              "properties": {
                "List name": "SUPPLY_LIST",
                "Reverse order": false
              },
              "children": [
                {
                  "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                  "customDisplayName": "Set variable SUPPLY_CHECK to the last action\u0027s output",
                  "properties": {
                    "Variable name": "SUPPLY_CHECK"
                  },
                  "children": [
                    {
                      "id": "SET_TO_ITEM_LIVE_PRICE_NAME",
                      "customDisplayName": "Set variable \u0027LIVE_PRICE\u0027 to the item\u0027s live price value",
                      "properties": {
                        "Variable name": "LIVE_PRICE",
                        "Name": "v(SUPPLY_CHECK)"
                      }
                    }
                  ]
                },
                {
                  "id": "IF_VARIABLE_IS_NOT_SET",
                  "properties": {
                    "Variable name": "v(SUPPLY_CHECK)_RESTOCK"
                  },
                  "children": [
                    {
                      "id": "SET_VARIABLE",
                      "properties": {
                        "Value": "1",
                        "Variable name": "v(SUPPLY_CHECK)_COUNT"
                      },
                      "children": [
                        {
                          "id": "SET_VARIABLE",
                          "customDisplayName": "Set variable BUY_AMOUNT to v(v(SUPPLY_CHECK)_COUNT)",
                          "properties": {
                            "Value": "v(v(SUPPLY_CHECK)_COUNT)",
                            "Variable name": "BUY_AMOUNT"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH",
                  "children": [
                    {
                      "id": "IF_BANK_COUNT",
                      "properties": {
                        "count": {
                          "class": "Number",
                          "operator": "LESS_THAN_OR_EQUALS",
                          "value": "mul(v(v(SUPPLY_CHECK)_RESTOCK), 0.25)"
                        },
                        "Filter Item By": {
                          "class": "Item",
                          "logic": "NONE",
                          "type": "NAME",
                          "operator": "EQUALS",
                          "value": "v(SUPPLY_CHECK)"
                        }
                      },
                      "children": [
                        {
                          "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                          "customDisplayName": "Set variable v(SUPPLY_CHECK)_COUNT to the last action\u0027s output",
                          "properties": {
                            "Variable name": "v(SUPPLY_CHECK)_COUNT"
                          },
                          "children": [
                            {
                              "id": "SET_VARIABLE",
                              "customDisplayName": "Set variable BUY_AMOUNT to sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                              "properties": {
                                "Value": "sub(v(v(SUPPLY_CHECK)_RESTOCK), v(v(SUPPLY_CHECK)_COUNT))",
                                "Variable name": "BUY_AMOUNT"
                              }
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "ELSE_BRANCH",
                      "children": [
                        {
                          "id": "SET_VARIABLE",
                          "customDisplayName": "Set variable BUY_AMOUNT to 0",
                          "properties": {
                            "Value": "0",
                            "Variable name": "BUY_AMOUNT"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_BANK_COUNT",
                  "customDisplayName": "If bank count of v(SUPPLY_CHECK) is v(v(SUPPLY_CHECK)_RESTOCK) or more",
                  "properties": {
                    "count": {
                      "class": "Number",
                      "operator": "GREATER_THAN_OR_EQUALS",
                      "value": "mul(v(v(SUPPLY_CHECK)_RESTOCK), 0.25)"
                    },
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "REMOVE_FROM_LIST",
                      "properties": {
                        "Value": "v(SUPPLY_CHECK)",
                        "List name": "SUPPLY_LIST"
                      },
                      "children": [
                        {
                          "id": "IF_LIST_SIZE_IS",
                          "properties": {
                            "size": {
                              "class": "Number",
                              "operator": "EQUALS",
                              "value": "0"
                            },
                            "List name": "SUPPLY_LIST"
                          },
                          "children": [
                            {
                              "id": "GO_TO_LABEL",
                              "customDisplayName": "Go to \u0027End Buyer\u0027",
                              "properties": {
                                "Label": "End Buyer"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_OFFER_EXISTS",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
                      "children": [
                        {
                          "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                          "children": [
                            {
                              "id": "SLEEP_UNTIL_INSIDE_IS_TRUE",
                              "children": [
                                {
                                  "id": "IF_OFFER_DOES_NOT_EXIST",
                                  "properties": {
                                    "Filter Item By": {
                                      "class": "Item",
                                      "logic": "NONE",
                                      "type": "NAME",
                                      "operator": "EQUALS",
                                      "value": "v(SUPPLY_CHECK)"
                                    }
                                  }
                                }
                              ]
                            },
                            {
                              "id": "REMOVE_FROM_LIST",
                              "properties": {
                                "Value": "v(SUPPLY_CHECK)",
                                "List name": "SUPPLY_LIST"
                              },
                              "children": [
                                {
                                  "id": "IF_LIST_SIZE_IS",
                                  "properties": {
                                    "size": {
                                      "class": "Number",
                                      "operator": "EQUALS",
                                      "value": "0"
                                    },
                                    "List name": "SUPPLY_LIST"
                                  },
                                  "children": [
                                    {
                                      "id": "GO_TO_LABEL",
                                      "properties": {
                                        "Label": "End Buyer"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "ELSE_BRANCH",
                      "children": [
                        {
                          "id": "SLEEP_BETWEEN",
                          "properties": {
                            "Minimum": "1000",
                            "Maximum": "3000"
                          },
                          "children": [
                            {
                              "id": "IF_GRAND_EXCHANGE_NOT_READY_TO_COLLECT",
                              "children": [
                                {
                                  "id": "SLEEP_BETWEEN",
                                  "properties": {
                                    "Minimum": "5000",
                                    "Maximum": "10000"
                                  },
                                  "children": [
                                    {
                                      "id": "CANCEL_ALL_OFFERS",
                                      "children": [
                                        {
                                          "id": "SLEEP_BETWEEN",
                                          "properties": {
                                            "Minimum": "1000",
                                            "Maximum": "3000"
                                          },
                                          "children": [
                                            {
                                              "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                                              "children": [
                                                {
                                                  "id": "SLEEP_BETWEEN",
                                                  "properties": {
                                                    "Minimum": "1000",
                                                    "Maximum": "3000"
                                                  },
                                                  "children": [
                                                    {
                                                      "id": "IF_LIST_SIZE_IS",
                                                      "properties": {
                                                        "size": {
                                                          "class": "Number",
                                                          "operator": "EQUALS",
                                                          "value": "0"
                                                        },
                                                        "List name": "SUPPLY_LIST"
                                                      },
                                                      "children": [
                                                        {
                                                          "id": "GO_TO_LABEL",
                                                          "properties": {
                                                            "Label": "End Buyer"
                                                          }
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": "ELSE_BRANCH",
                                                      "children": [
                                                        {
                                                          "id": "GO_TO_LABEL",
                                                          "properties": {
                                                            "Label": "Buy After Collect2"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_OFFER_DOES_NOT_EXIST",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "NAME",
                      "operator": "EQUALS",
                      "value": "v(SUPPLY_CHECK)"
                    }
                  },
                  "children": [
                    {
                      "id": "IF_VARIABLE_IS_NOT",
                      "properties": {
                        "Filter Value By": {
                          "class": "Variable",
                          "logic": "NONE",
                          "type": "AS_NUMBER",
                          "operator": "EQUALS",
                          "value": "0"
                        },
                        "Variable name": "BUY_AMOUNT"
                      },
                      "children": [
                        {
                          "id": "IF_ANY_SLOT_IS_EMPTY",
                          "children": [
                            {
                              "id": "BUY_ITEM_GRAND_EXCHANGE",
                              "customDisplayName": "Buy item v(SUPPLY_CHECK) for v(LIVE_PRICE) +100%",
                              "properties": {
                                "Item Name": "v(SUPPLY_CHECK)",
                                "Price": "mul(v(LIVE_PRICE), 2.00)",
                                "Amount": "v(BUY_AMOUNT)"
                              },
                              "children": [
                                {
                                  "id": "SLEEP_BETWEEN",
                                  "properties": {
                                    "Minimum": "1000",
                                    "Maximum": "3000"
                                  }
                                },
                                {
                                  "id": "IF_GAME_MESSAGE_RECEIVED_MATCHES",
                                  "properties": {
                                    "Filter Message": {
                                      "class": "Message",
                                      "logic": "NONE",
                                      "type": "TEXT",
                                      "operator": "CONTAINS",
                                      "value": "That offer costs"
                                    }
                                  },
                                  "children": [
                                    {
                                      "id": "SET_VARIABLE",
                                      "properties": {
                                        "Value": "true",
                                        "Variable name": "BROKE"
                                      },
                                      "children": [
                                        {
                                          "id": "GO_TO_LABEL",
                                          "properties": {
                                            "Label": "End Buyer"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": "IF_LIST_SIZE_IS",
                                  "properties": {
                                    "size": {
                                      "class": "Number",
                                      "operator": "EQUALS",
                                      "value": "0"
                                    },
                                    "List name": "SUPPLY_LIST"
                                  },
                                  "children": [
                                    {
                                      "id": "GO_TO_LABEL",
                                      "properties": {
                                        "Label": "End Buyer"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "ELSE_BRANCH",
                      "children": [
                        {
                          "id": "IF_NO_SLOTS_ARE_EMPTY",
                          "children": [
                            {
                              "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
                              "children": [
                                {
                                  "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                                  "children": [
                                    {
                                      "id": "SLEEP_BETWEEN",
                                      "properties": {
                                        "Minimum": "1000",
                                        "Maximum": "3000"
                                      },
                                      "children": [
                                        {
                                          "id": "IF_LIST_SIZE_IS",
                                          "properties": {
                                            "size": {
                                              "class": "Number",
                                              "operator": "EQUALS",
                                              "value": "0"
                                            },
                                            "List name": "SUPPLY_LIST"
                                          },
                                          "children": [
                                            {
                                              "id": "GO_TO_LABEL",
                                              "properties": {
                                                "Label": "End Buyer"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "id": "ELSE_BRANCH",
                                          "children": [
                                            {
                                              "id": "GO_TO_LABEL",
                                              "properties": {
                                                "Label": "Buy After Collect2"
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": "IF_GRAND_EXCHANGE_NOT_READY_TO_COLLECT",
                              "children": [
                                {
                                  "id": "SLEEP_BETWEEN",
                                  "properties": {
                                    "Minimum": "5000",
                                    "Maximum": "10000"
                                  },
                                  "children": [
                                    {
                                      "id": "CANCEL_ALL_OFFERS",
                                      "children": [
                                        {
                                          "id": "COLLECT_TO_BANK_GRAND_EXCHANGE",
                                          "children": [
                                            {
                                              "id": "SLEEP_BETWEEN",
                                              "properties": {
                                                "Minimum": "1000",
                                                "Maximum": "3000"
                                              },
                                              "children": [
                                                {
                                                  "id": "IF_LIST_SIZE_IS",
                                                  "properties": {
                                                    "size": {
                                                      "class": "Number",
                                                      "operator": "EQUALS",
                                                      "value": "0"
                                                    },
                                                    "List name": "SUPPLY_LIST"
                                                  },
                                                  "children": [
                                                    {
                                                      "id": "GO_TO_LABEL",
                                                      "properties": {
                                                        "Label": "End Buyer"
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": "ELSE_BRANCH",
                                                  "children": [
                                                    {
                                                      "id": "GO_TO_LABEL",
                                                      "properties": {
                                                        "Label": "Buy After Collect2"
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "CREATE_LABEL",
          "properties": {
            "Label": "End Buyer"
          },
          "children": [
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "0",
                "Variable name": "COIN_CHECK"
              }
            },
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "EndBuyer",
                "Variable name": "CURRENT_TASK"
              }
            },
            {
              "id": "IF_GRAND_EXCHANGE_READY_TO_COLLECT",
              "children": [
                {
                  "id": "COLLECT_TO_BANK_GRAND_EXCHANGE"
                }
              ]
            },
            {
              "id": "CLOSE_GRAND_EXCHANGE",
              "children": [
                {
                  "id": "SLEEP_UNTIL_INSIDE_IS_TRUE",
                  "children": [
                    {
                      "id": "IF_GRAND_EXCHANGE_IS_NOT_OPEN"
                    }
                  ]
                }
              ]
            },
            {
              "id": "RESUME_ITEM_TRACKER"
            },
            {
              "id": "CLEAR_LIST",
              "properties": {
                "List name": "SUPPLY_LIST"
              }
            }
          ]
        }
      ]
    }
  ]
}
