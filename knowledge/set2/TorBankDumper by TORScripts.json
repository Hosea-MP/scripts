{"sleep":"5000","name":"TorBankDumper","version":1.0,"metadata":{"network-id":"86","network-downloaded-at":"1721665228878"},"actions":[{"id":"COMMENT","properties":{"Comment":"Check Trade Restriction"},"children":[{"id":"CUSTOM_64810d79-16ed-4a24-97e4-f8e8c4434af0"}]},{"id":"COMMENT","properties":{"Comment":"Walk to Grand Exchange"},"children":[{"id":"IF_DISTANCE_TO_TILE_IS","customDisplayName":"If GE is not in Range","properties":{"distance":{"class":"Number","operator":"GREATER_THAN_OR_EQUALS","value":"40"},"Tile":"(3165, 3487, 0)"},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"WALK_FULLY_TO_AREA","properties":{"Area":"(3162, 3485, 0), (3168, 3481, 0)"}}]}]},{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"OPEN_BANK"},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"500","Maximum":"900"}},{"id":"BANK_DEPOSIT_ALL"},{"id":"BANK_DEPOSIT_ALL_EQUIPMENT"},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"700","Maximum":"1600"}}]}]},{"id":"COMMENT","properties":{"Comment":"Withdraw all Items"},"children":[{"id":"IF_WITHDRAW_MODE_IS_ITEM","children":[{"id":"SET_WITHDRAW_MODE_NOTED"},{"id":"WIDGET_INTERACT","properties":{"Action":"Disable","Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"12, 38"}}}]},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"ItemsLeft"}},{"id":"WHILE_VARIABLE_MATCHES","properties":{"Filter Value By":{"class":"Variable","logic":"NONE","type":"AS_TEXT","operator":"EQUALS","value":"1"},"Variable name":"ItemsLeft"},"children":[{"id":"IF_INVENTORY_IS_FULL","children":[{"id":"SET_VARIABLE","properties":{"Value":"0","Variable name":"ItemsLeft"}}]},{"id":"ELSE_BRANCH","children":[{"id":"IF_VARIABLE_IS","properties":{"Filter Value By":{"class":"Variable","logic":"NONE","type":"AS_TEXT","operator":"EQUALS","value":"false"},"Variable name":"isTradeRestricted"},"children":[{"id":"COMMENT","properties":{"Comment":"Un-Restricted Trade"}},{"id":"IF_BANK_CONTAINS","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"VALUE","operator":"GREATER_THAN_OR_EQUAL","value":"1","filters":[{"class":"Item","logic":"AND","type":"IS_TRADEABLE","operator":"EQUALS"}]}},"children":[{"id":"BANK_WITHDRAW_ALL_ITEM","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"VALUE","operator":"GREATER_THAN_OR_EQUAL","value":"1","filters":[{"class":"Item","logic":"AND","type":"IS_TRADEABLE","operator":"EQUALS"}]}}}]},{"id":"ELSE_BRANCH","children":[{"id":"SET_VARIABLE","properties":{"Value":"0","Variable name":"ItemsLeft"}}]}]},{"id":"ELSE_BRANCH","children":[{"id":"COMMENT","properties":{"Comment":"F2P Trade Restricted"}},{"id":"IF_BANK_CONTAINS","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"VALUE","operator":"GREATER_THAN_OR_EQUAL","value":"1","filters":[{"class":"Item","logic":"AND","type":"IS_TRADEABLE","operator":"EQUALS"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"shrimps"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"anchovies"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"lobster"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Clay"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Soft clay"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"logs"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"ore"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"rune"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Feather"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Cowhide"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"Vial"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Jug of water"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Wine of zamorak"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Eye of newt"},{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Fishing bait"}]}},"children":[{"id":"BANK_WITHDRAW_ALL_ITEM","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"IS_LAST_OUTPUT","operator":"EQUALS","value":"lastOutput()"}}}]},{"id":"ELSE_BRANCH","children":[{"id":"SET_VARIABLE","properties":{"Value":"0","Variable name":"ItemsLeft"}}]}]}]}]}]},{"id":"COMMENT","properties":{"Comment":"Sell GE Items\n"},"children":[{"id":"IF_INVENTORY_IS_NOT_EMPTY","children":[{"id":"OPEN_GRAND_EXCHANGE","children":[{"id":"IF_GRAND_EXCHANGE_READY_TO_COLLECT","children":[{"id":"COLLECT_GRAND_EXCHANGE"},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"450","Maximum":"800"}}]},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"ItemsLeft"}},{"id":"WHILE_VARIABLE_MATCHES","properties":{"Filter Value By":{"class":"Variable","logic":"NONE","type":"AS_TEXT","operator":"EQUALS","value":"1"},"Variable name":"ItemsLeft"},"children":[{"id":"IF_ANY_SLOT_IS_EMPTY","children":[{"id":"IF_INVENTORY_CONTAINS_ANY","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"VALUE","operator":"GREATER_THAN_OR_EQUAL","value":"1","filters":[{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_CONTAIN","value":"Coins"}]}},"children":[{"id":"SET_TO_LAST_MATCHING_ITEM_NAME","properties":{"Variable name":"currentItem"}},{"id":"IF_INVENTORY_COUNT","properties":{"count":{"class":"Number","operator":"GREATER_THAN_OR_EQUALS","value":"1"},"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"var(currentItem)"}},"children":[{"id":"SELL_ITEM_GRAND_EXCHANGE","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"var(currentItem)","filters":[{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Coins"}]},"Price":"1","Amount":"lastOutput()"}}]}]}]},{"id":"ELSE_BRANCH","children":[{"id":"IF_GRAND_EXCHANGE_READY_TO_COLLECT","children":[{"id":"COLLECT_GRAND_EXCHANGE"},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"450","Maximum":"800"}}]}]},{"id":"IF_INVENTORY_DOES_NOT_CONTAIN_ANY","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"VALUE","operator":"GREATER_THAN_OR_EQUAL","value":"1","filters":[{"class":"Item","logic":"AND","type":"NAME","operator":"DOES_NOT_EQUAL","value":"Coins"}]}},"children":[{"id":"IF_GRAND_EXCHANGE_READY_TO_COLLECT","children":[{"id":"COLLECT_GRAND_EXCHANGE"},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"450","Maximum":"800"}}]},{"id":"SET_VARIABLE","properties":{"Value":"0","Variable name":"ItemsLeft"}}]}]}]}]}]},{"id":"COMMENT","properties":{"Comment":"Cleanup"},"children":[{"id":"DELETE_VARIABLE","properties":{"Variable name":"ItemsLeft"}}]}],"customActions":{"64810d79-16ed-4a24-97e4-f8e8c4434af0":{"id":"64810d79-16ed-4a24-97e4-f8e8c4434af0","name":"Utilities>Trade>checkTradeRestriction","description":"Checks and marks if an account still has trade restriction","parameters":"","fail":false,"actions":[{"id":"COMMENT","properties":{"Comment":"Widget Identify"}},{"id":"COMMENT","properties":{"Comment":"Total time played"}},{"id":"IF_VARIABLE_IS_NOT_SET","properties":{"Variable name":"isTradeRestricted"},"children":[{"id":"COMMENT","properties":{"Comment":"Get Total Level"},"children":[{"id":"SET_TO_LOCAL_PLAYER_TOTAL_LEVEL","properties":{"Variable name":"playerTTL"}}]},{"id":"COMMENT","properties":{"Comment":"Get Playtime"},"children":[{"id":"COMMENT","properties":{"Comment":"Close Open Windows"},"children":[{"id":"PRESS_ESCAPE"}]},{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"OPEN_TAB","properties":{"Tab":{"class":"Tab","value":"QUEST"}}}]},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"800","Maximum":"1400"}},{"id":"IF_WIDGET_DOES_NOT_EXIST","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"712, 2, 100"}},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"WIDGET_INTERACT","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"629, 7"}}}]},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"600","Maximum":"1200"}}]},{"id":"IF_WIDGET_EXISTS","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"712, 2, 100","filters":[{"class":"Widget","logic":"AND","type":"TEXT","operator":"CONTAINS","value":"click"}]}},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"WIDGET_INTERACT","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"IS_LAST_OUTPUT","operator":"EQUALS"}}},{"id":"WIDGET_INTERACT","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"219, 1, 2"}}}]},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"600","Maximum":"1200"}}]},{"id":"IF_WIDGET_EXISTS","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"712, 2, 100"}},"children":[{"id":"SET_TO_WIDGET_TEXT","properties":{"Variable name":"widgetText"}},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"600","Maximum":"1200"}}]},{"id":"COMMENT","properties":{"Comment":"Regex Text"},"children":[{"id":"EXTRACT_VARIABLES_FROM_REGEX","properties":{"To variable":"Time Played","Regex":"<col=0dc10d>(?:(\\d+) day[s]?, )?(\\d+) hour[s]?(?:, (\\d+) minute[s]?)?</col>","From variable":"widgetText"},"children":[{"id":"COMMENT","properties":{"Comment":"Convert Days to hours"},"children":[{"id":"MULTIPLY_VARIABLE_BY","properties":{"Variable name":"Time Played[0]","By":"24"}}]},{"id":"COMMENT","properties":{"Comment":"Add hours together"},"children":[{"id":"ADD_TO_VARIABLE","properties":{"By":"v(Time Played[1])","Variable name":"Time Played[0]"}}]}]}]}]},{"id":"COMMENT","properties":{"Comment":"Check Trade Restriction"},"children":[{"id":"IF_MEMBERSHIP_LEFT_IS","properties":{"days":{"class":"Number","operator":"EQUALS","value":"0"}},"children":[{"id":"IF_VARIABLE_IS","properties":{"Filter Value By":{"class":"Variable","logic":"NONE","type":"AS_NUMBER","operator":"LESS_THAN","value":"20"},"Variable name":"Time Played[0]"}},{"id":"OR_BRANCH"},{"id":"IF_QUEST_POINTS_ARE","properties":{"QP":{"class":"Number","operator":"LESS_THAN","value":"10"}}},{"id":"OR_BRANCH"},{"id":"IF_VARIABLE_IS","properties":{"Filter Value By":{"class":"Variable","logic":"NONE","type":"AS_NUMBER","operator":"LESS_THAN","value":"100"},"Variable name":"playerTTL"},"children":[{"id":"SET_VARIABLE","properties":{"Value":"true","Variable name":"isTradeRestricted"}}]},{"id":"ELSE_BRANCH","children":[{"id":"SET_VARIABLE","properties":{"Value":"false","Variable name":"isTradeRestricted"}}]}]},{"id":"ELSE_BRANCH","children":[{"id":"SET_VARIABLE","properties":{"Value":"false","Variable name":"isTradeRestricted"}}]}]},{"id":"COMMENT","properties":{"Comment":"Cleanup"},"children":[{"id":"IF_WIDGET_EXISTS","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"712, 2, 100"}},"children":[{"id":"WIDGET_INTERACT","properties":{"Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"629, 8"}}},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"800","Maximum":"1400"}},{"id":"OPEN_TAB","properties":{"Tab":{"class":"Tab","value":"INVENTORY"}}},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"800","Maximum":"1400"}}]},{"id":"WIDGET_INTERACT","properties":{"Action":"Inventory","Find Widget By":{"class":"Widget","logic":"NONE","type":"WIDGET_ID","operator":"EQUALS","value":"548, 66"}}},{"id":"SLEEP_UNTIL_GAME_TICK"}]}]}]}}}