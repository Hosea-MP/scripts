{"id":"437acd67-7db2-4c38-abaa-266b91433aea","name":"Quests > Dorics' Quest","description":"","parameters":"","fail":false,"actions":[{"id":"IF_QUEST_IS_IN_PROGRESS","properties":{"Quest":{"class":"FreeQuest","value":"DORICS_QUEST"}}},{"id":"OR_BRANCH"},{"id":"IF_QUEST_IS_NOT_STARTED","properties":{"__TEXT__Quest":"Dorics Quest"},"children":[{"id":"CREATE_LABEL","properties":{"Label":"Location Variables"},"children":[{"id":"CUSTOM_7928b129-28a6-40bf-aa50-9062b405d519"},{"id":"SET_VARIABLE","properties":{"Value":"2949, 3452, 2953, 3449","Variable name":"DORICS_HUT"}}]},{"id":"CREATE_LABEL","properties":{"Label":"Restock Variables"},"children":[{"id":"SET_VARIABLE","properties":{"Value":"6","Variable name":"Clay_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"4","Variable name":"Copper ore_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"2","Variable name":"Iron ore_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"Falador teleport_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"Ring of wealth (5)_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"Skills necklace(6)_RESTOCK"}},{"id":"SET_VARIABLE","properties":{"Value":"1","Variable name":"Stamina potion(4)_RESTOCK"}}]},{"id":"CREATE_LABEL","properties":{"Label":"Start Threads"},"children":[{"id":"CUSTOM_4df3a321-fcec-4905-9d94-e9a4b2c59253"},{"id":"CUSTOM_f64e0012-4c0e-40d5-b3f5-18ab237663ca"}]},{"id":"CREATE_LABEL","properties":{"Label":"Buying Items"},"children":[{"id":"SET_VARIABLE","properties":{"Value":"Buying Items","Variable name":"CURRENT_TASK"}},{"id":"IF_FIRST_RUN","children":[{"id":"ADD_ALL_TO_LIST","properties":{"Value":"Iron ore,Copper ore,Clay,Stamina potion(4),Falador teleport","List name":"SUPPLY_LIST"}}]},{"id":"CUSTOM_5ba64cb3-1a6f-4354-bf74-9f475966b7c8"},{"id":"FOR_EACH_IN_LIST","customDisplayName":"For each in list SUPPLY_LIST","properties":{"List name":"SUPPLY_LIST","Random order":true},"children":[{"id":"REMOVE_FROM_LIST_INDEX","properties":{"List name":"SUPPLY_LIST","Position":"0"}}]}]},{"id":"CREATE_LABEL","properties":{"Label":"Withdrawing Items"},"children":[{"id":"SET_VARIABLE","properties":{"Value":"Withdrawing Items","Variable name":"CURRENT_TASK"}},{"id":"IF_FIRST_RUN","children":[{"id":"ADD_ALL_TO_LIST","properties":{"Value":"Iron ore,Copper ore,Clay,Stamina potion(4),Falador teleport","List name":"WITHDRAW_LIST"}}]},{"id":"CUSTOM_7c34cb9f-cec9-45f1-81de-7dba6eb0595e","children":[{"id":"FOR_EACH_IN_LIST","customDisplayName":"For each in list WITHDRAW_LIST","properties":{"List name":"WITHDRAW_LIST"},"children":[{"id":"SET_VARIABLE_TO_LAST_OUTPUT","properties":{"Variable name":"ITEM_NAME"},"children":[{"id":"BANK_WITHDRAW_ITEM","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"v(ITEM_NAME)"},"Amount":"v(v(ITEM_NAME)_RESTOCK)"},"children":[{"id":"SLEEP_UNTIL_GAME_TICK"}]}]}]}]},{"id":"FOR_EACH_IN_LIST","customDisplayName":"For each in list SUPPLY_LIST","properties":{"List name":"WITHDRAW_LIST","Random order":true},"children":[{"id":"REMOVE_FROM_LIST_INDEX","properties":{"List name":"SUPPLY_LIST","Position":"0"}}]}]},{"id":"CREATE_LABEL","properties":{"Label":"Quest Start"},"children":[{"id":"SET_VARIABLE","properties":{"Value":"Dorics' Quest","Variable name":"CURRENT_TASK"}},{"id":"WALK_FULLY_TO_AREA","customDisplayName":"Walk to Dorics' Hut","properties":{"Area":"v(DORICS_HUT)"}},{"id":"IF_LOCAL_PLAYER_MATCHES","properties":{"Filter By":{"class":"Player","logic":"NONE","type":"NOT_IN_AREA","operator":"EQUALS","value":"v(DORICS_HUT)"}},"children":[{"id":"WALK_FULLY_TO_AREA","customDisplayName":"Walk to Dorics' Hut","properties":{"Area":"v(DORICS_HUT)"}}]},{"id":"IF_NPC_EXISTS","properties":{"Filter NPC By":{"class":"NPC","logic":"NONE","type":"NAME","operator":"EQUALS","value":"Doric"}},"children":[{"id":"NPC_INTERACT","properties":{"Filter NPC By":{"class":"NPC","logic":"NONE","type":"NAME","operator":"EQUALS","value":"Doric"},"Action":"Talk-to"},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"IF_OPTIONS_ARE_AVAILABLE"}]}]},{"id":"IF_OPTIONS_ARE_AVAILABLE","children":[{"id":"CHOOSE_OPTION_BY_INDEX","properties":{"Index":"1"},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"IF_OPTIONS_ARE_AVAILABLE"}]}]}]},{"id":"SLEEP_BETWEEN","properties":{"Minimum":"2000","Maximum":"5000"}},{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"IF_OPTIONS_ARE_AVAILABLE"}]},{"id":"IF_OPTIONS_ARE_AVAILABLE","children":[{"id":"CHOOSE_OPTION_BY_INDEX","properties":{"Index":"1"},"children":[{"id":"SLEEP_UNTIL_INSIDE_IS_TRUE","children":[{"id":"IF_NOT_IN_DIALOGUE"}]}]}]}]}]},{"id":"SET_VARIABLE","properties":{"Value":"Dropping Trash","Variable name":"CURRENT_TASK"}},{"id":"DROP_ITEM_MATCHING","customDisplayName":"Drop matching item Bronze pickaxe","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"Bronze pickaxe"}}},{"id":"IF_INVENTORY_COUNT","properties":{"count":{"class":"Number","operator":"LESS_THAN_OR_EQUALS","value":"180"},"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"Coins"}},"children":[{"id":"DROP_ITEM_MATCHING","properties":{"Filter Item By":{"class":"Item","logic":"NONE","type":"NAME","operator":"EQUALS","value":"Coins"}}}]},{"id":"STOP_THREAD","properties":{"Thread name":"Energy & Restoration"}}]}]}