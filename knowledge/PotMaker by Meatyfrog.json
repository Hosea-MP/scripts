{
  "sleep": "500",
  "name": "Pot_Maker_0.0.3",
  "version": 1.0,
  "metadata": {
    "network-id": "38",
    "network-downloaded-at": "1721665205041"
  },
  "actions": [
    {
      "id": "IF_FIRST_RUN",
      "children": [
        {
          "id": "COMMENT",
          "properties": {
            "Comment": "Variables"
          },
          "children": [
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "15",
                "Variable name": "stop_amount"
              }
            },
            {
              "id": "LOAD_MAP_FROM_JSON",
              "properties": {
                "JSON": "{     \"Prayer potion\": {         \"unf\": 99,         \"secondary\": 231     },     \"Super strength potion\": {         \"unf\": 105,         \"secondary\": 225     },     \"Energy potion\": {         \"unf\": 97,         \"secondary\": 1975     },     \"Super energy potion\": {         \"unf\": 103,         \"secondary\": 2970     },     \"Superantipoison potion\": {         \"unf\": 101,         \"secondary\": 235     },     \"Super defence potion\": {         \"unf\": 107,         \"secondary\": 239     },     \"Ranging potion\": {         \"unf\": 109,         \"secondary\": 245     },     \"Antifire potion\": {         \"unf\": 2483,         \"secondary\": 241     },     \"Super restore\": {         \"unf\": 3004,         \"secondary\": 223     } }",
                "Map name": "potions"
              }
            },
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "Get all map keys"
              },
              "children": [
                {
                  "id": "FOR_EACH_KEY_IN_MAP",
                  "properties": {
                    "Map name": "potions"
                  },
                  "children": [
                    {
                      "id": "SET_VARIABLE_TO_LAST_OUTPUT",
                      "properties": {
                        "Variable name": "key"
                      },
                      "children": [
                        {
                          "id": "ADD_TO_LIST",
                          "properties": {
                            "List name": "potions_list",
                            "Value": "v(key)"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "id": "CREATE_LABEL",
              "properties": {
                "Label": "Set Potion"
              }
            },
            {
              "id": "SET_VARIABLE_TO_USER_INPUT_OPTIONS",
              "properties": {
                "Message": "Choose which potion you would like to make",
                "Options": "v(potions_list)",
                "Variable name": "make_potion"
              }
            },
            {
              "id": "ELSE_BRANCH",
              "children": [
                {
                  "id": "GO_TO_LABEL",
                  "properties": {
                    "Label": "Set Potion"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "COMMENT",
      "properties": {
        "Comment": "Set Potion Variables"
      },
      "children": [
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "map(potions.v(make_potion),unf)",
            "Variable name": "unf_pot"
          }
        },
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "map(potions.v(make_potion),secondary)",
            "Variable name": "secondary"
          }
        }
      ]
    },
    {
      "id": "IF_BANK_IS_OPEN",
      "children": [
        {
          "id": "IF_BANK_COUNT",
          "properties": {
            "count": {
              "class": "Number",
              "operator": "LESS_THAN",
              "value": "v(stop_amount)"
            },
            "Filter Item By": {
              "class": "Item",
              "logic": "NONE",
              "type": "ID",
              "operator": "EQUALS",
              "value": "v(unf_pot)"
            }
          }
        },
        {
          "id": "OR_BRANCH"
        },
        {
          "id": "IF_BANK_COUNT",
          "properties": {
            "count": {
              "class": "Number",
              "operator": "LESS_THAN",
              "value": "v(stop_amount)"
            },
            "Filter Item By": {
              "class": "Item",
              "logic": "NONE",
              "type": "ID",
              "operator": "EQUALS",
              "value": "v(secondary)"
            }
          },
          "children": [
            {
              "id": "STOP_SCRIPT",
              "customDisplayName": "Out of Ingredients."
            }
          ]
        },
        {
          "id": "BANK_DEPOSIT_ALL",
          "children": [
            {
              "id": "SLEEP_NORMAL_DISTRIBUTION",
              "properties": {
                "Mean": "250",
                "Variance": "50"
              },
              "children": [
                {
                  "id": "BANK_WITHDRAW_ITEM",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "ID",
                      "operator": "EQUALS",
                      "value": "v(unf_pot)"
                    },
                    "Amount": "14"
                  },
                  "children": [
                    {
                      "id": "SLEEP_NORMAL_DISTRIBUTION",
                      "properties": {
                        "Mean": "250",
                        "Variance": "50"
                      },
                      "children": [
                        {
                          "id": "BANK_WITHDRAW_ITEM",
                          "properties": {
                            "Filter Item By": {
                              "class": "Item",
                              "logic": "NONE",
                              "type": "ID",
                              "operator": "EQUALS",
                              "value": "v(secondary)"
                            },
                            "Amount": "14"
                          },
                          "children": [
                            {
                              "id": "SLEEP_UNTIL_GAME_TICK",
                              "children": [
                                {
                                  "id": "SLEEP_NORMAL_DISTRIBUTION",
                                  "properties": {
                                    "Mean": "250",
                                    "Variance": "50"
                                  },
                                  "children": [
                                    {
                                      "id": "CLOSE_BANK"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "ELSE_BRANCH",
      "children": [
        {
          "id": "CUSTOM_521884cb-7074-4892-9e81-479aad899fd0",
          "properties": {
            "animationDelay": "rand(1500,2500)"
          },
          "children": [
            {
              "id": "COMMENT",
              "properties": {
                "Comment": "Reset Inventory"
              },
              "children": [
                {
                  "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "ID",
                      "operator": "IS_IN_LIST",
                      "value": "v(unf_pot)"
                    }
                  }
                },
                {
                  "id": "OR_BRANCH"
                },
                {
                  "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "ID",
                      "operator": "IS_IN_LIST",
                      "value": "v(secondary)"
                    }
                  },
                  "children": [
                    {
                      "id": "OPEN_BANK"
                    }
                  ]
                }
              ]
            },
            {
              "id": "IF_ITEM_PROCESSING_IS_OPEN",
              "children": [
                {
                  "id": "PRESS_SPACEBAR"
                }
              ]
            },
            {
              "id": "ELSE_BRANCH",
              "children": [
                {
                  "id": "COMMENT",
                  "properties": {
                    "Comment": "Handle Levelup"
                  },
                  "children": [
                    {
                      "id": "IF_IN_DIALOGUE",
                      "children": [
                        {
                          "id": "PRESS_SPACEBAR"
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "ID",
                      "operator": "EQUALS",
                      "value": "v(unf_pot)",
                      "filters": [
                        {
                          "class": "Item",
                          "logic": "AND",
                          "type": "SLOT",
                          "operator": "EQUALS",
                          "value": "11"
                        }
                      ]
                    }
                  }
                },
                {
                  "id": "OR_BRANCH"
                },
                {
                  "id": "IF_INVENTORY_DOES_NOT_CONTAIN_ANY",
                  "properties": {
                    "Filter Item By": {
                      "class": "Item",
                      "logic": "NONE",
                      "type": "ID",
                      "operator": "EQUALS",
                      "value": "v(secondary)",
                      "filters": [
                        {
                          "class": "Item",
                          "logic": "AND",
                          "type": "SLOT",
                          "operator": "IS_IN_LIST",
                          "value": "15,16"
                        }
                      ]
                    }
                  },
                  "children": [
                    {
                      "id": "INTERACT_WITH_INVENTORY_ITEM",
                      "properties": {
                        "Filter Item By": {
                          "class": "Item",
                          "logic": "NONE",
                          "type": "ID",
                          "operator": "EQUALS",
                          "value": "v(secondary)"
                        },
                        "Force left click": false
                      },
                      "children": [
                        {
                          "id": "SLEEP_NORMAL_DISTRIBUTION",
                          "properties": {
                            "Mean": "100",
                            "Variance": "75"
                          },
                          "children": [
                            {
                              "id": "INTERACT_WITH_INVENTORY_ITEM",
                              "properties": {
                                "Filter Item By": {
                                  "class": "Item",
                                  "logic": "NONE",
                                  "type": "ID",
                                  "operator": "EQUALS",
                                  "value": "v(unf_pot)"
                                },
                                "Force left click": false
                              },
                              "children": [
                                {
                                  "id": "SLEEP_NORMAL_DISTRIBUTION",
                                  "properties": {
                                    "Mean": "250"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "ELSE_BRANCH",
                  "children": [
                    {
                      "id": "INVENTORY_DESELECT"
                    },
                    {
                      "id": "IF_VALUE_IS",
                      "properties": {
                        "Value": "rand(0,11)",
                        "Filter By": {
                          "class": "Variable",
                          "logic": "NONE",
                          "type": "AS_NUMBER",
                          "operator": "GREATER_THAN",
                          "value": "5"
                        }
                      },
                      "children": [
                        {
                          "id": "INTERACT_WITH_INVENTORY_ITEM",
                          "properties": {
                            "Filter Item By": {
                              "class": "Item",
                              "logic": "NONE",
                              "type": "ID",
                              "operator": "EQUALS",
                              "value": "v(secondary)",
                              "filters": [
                                {
                                  "class": "Item",
                                  "logic": "AND",
                                  "type": "SLOT",
                                  "operator": "EQUALS",
                                  "value": "rand(15,16)"
                                }
                              ]
                            },
                            "Force left click": false,
                            "Action": "Use"
                          },
                          "children": [
                            {
                              "id": "SLEEP_NORMAL_DISTRIBUTION",
                              "properties": {
                                "Mean": "100",
                                "Variance": "75"
                              },
                              "children": [
                                {
                                  "id": "INTERACT_WITH_INVENTORY_ITEM",
                                  "properties": {
                                    "Filter Item By": {
                                      "class": "Item",
                                      "logic": "NONE",
                                      "type": "ID",
                                      "operator": "EQUALS",
                                      "value": "v(unf_pot)",
                                      "filters": [
                                        {
                                          "class": "Item",
                                          "logic": "AND",
                                          "type": "SLOT",
                                          "operator": "EQUALS",
                                          "value": "rand(10,12)"
                                        }
                                      ]
                                    },
                                    "Force left click": false,
                                    "Action": "Use"
                                  },
                                  "children": [
                                    {
                                      "id": "SLEEP_NORMAL_DISTRIBUTION",
                                      "properties": {
                                        "Mean": "250"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "ELSE_BRANCH",
                      "children": [
                        {
                          "id": "INTERACT_WITH_INVENTORY_ITEM",
                          "properties": {
                            "Filter Item By": {
                              "class": "Item",
                              "logic": "NONE",
                              "type": "ID",
                              "operator": "EQUALS",
                              "value": "v(unf_pot)",
                              "filters": [
                                {
                                  "class": "Item",
                                  "logic": "AND",
                                  "type": "SLOT",
                                  "operator": "EQUALS",
                                  "value": "rand(10,12)"
                                }
                              ]
                            },
                            "Force left click": false,
                            "Action": "Use"
                          },
                          "children": [
                            {
                              "id": "SLEEP_NORMAL_DISTRIBUTION",
                              "properties": {
                                "Mean": "250"
                              },
                              "children": [
                                {
                                  "id": "INTERACT_WITH_INVENTORY_ITEM",
                                  "properties": {
                                    "Filter Item By": {
                                      "class": "Item",
                                      "logic": "NONE",
                                      "type": "ID",
                                      "operator": "EQUALS",
                                      "value": "v(secondary)",
                                      "filters": [
                                        {
                                          "class": "Item",
                                          "logic": "AND",
                                          "type": "SLOT",
                                          "operator": "EQUALS",
                                          "value": "rand(15,16)"
                                        }
                                      ]
                                    },
                                    "Force left click": false,
                                    "Action": "Use"
                                  },
                                  "children": [
                                    {
                                      "id": "SLEEP_NORMAL_DISTRIBUTION",
                                      "properties": {
                                        "Mean": "100",
                                        "Variance": "75"
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "COMMENT",
      "properties": {
        "Comment": "Paint\n"
      },
      "children": [
        {
          "id": "SET_VARIABLE",
          "properties": {
            "Value": "v(current_exp)",
            "Variable name": "previous_exp"
          }
        },
        {
          "id": "SET_TO_LOCAL_PLAYER_EXPERIENCE",
          "properties": {
            "Skill": {
              "class": "Skill",
              "value": "HERBLORE"
            },
            "Variable name": "current_exp"
          }
        },
        {
          "id": "IF_VARIABLE_IS_NOT",
          "properties": {
            "Filter Value By": {
              "class": "Variable",
              "logic": "NONE",
              "type": "AS_NUMBER",
              "operator": "EQUALS",
              "value": "v(previous_exp)"
            },
            "Variable name": "current_exp"
          },
          "children": [
            {
              "id": "SET_VARIABLE",
              "properties": {
                "Value": "sub(v(current_exp), v(previous_exp))",
                "Variable name": "diff_exp"
              }
            }
          ]
        },
        {
          "id": "SET_TO_LOCAL_PLAYER_REAL_SKILL_LEVEL",
          "properties": {
            "Skill": {
              "class": "Skill",
              "value": "HERBLORE"
            },
            "Variable name": "curr_level"
          }
        },
        {
          "id": "SET_TO_EXPERIENCE_UNTIL_LEVEL",
          "properties": {
            "Skill": {
              "class": "Skill",
              "value": "HERBLORE"
            },
            "Level": "add(v(curr_level), 1)",
            "Variable name": "needed_exp"
          }
        }
      ]
    },
    {
      "id": "PAINT_ROOT",
      "properties": {
        "Hide standard paint": false
      },
      "children": [
        {
          "id": "DRAW_TEXT",
          "properties": {
            "X": "20",
            "Font Size": "30",
            "Y": "50",
            "Text": "Herblore: expGain(Herblore) hourly(expGain(Herblore))/h +(levelGain(Herblore)) ttl timeToLevel(Herblore)",
            "Font": {
              "class": "Font",
              "value": "Inter V"
            },
            "Color": {
              "class": "Color",
              "value": -1
            }
          }
        },
        {
          "id": "DRAW_TEXT",
          "properties": {
            "X": "20",
            "Font Size": "50",
            "Y": "100",
            "Text": "Needed to level num(ceil(div(v(needed_exp), v(diff_exp))))",
            "Font": {
              "class": "Font",
              "value": "Inter V"
            },
            "Color": {
              "class": "Color",
              "value": -1
            }
          }
        }
      ]
    }
  ],
  "customActions": {
    "521884cb-7074-4892-9e81-479aad899fd0": {
      "id": "521884cb-7074-4892-9e81-479aad899fd0",
      "name": "doAfterNotAnimatingAfter",
      "description": "Will only be true if this number of ms has passed since your last animation",
      "parameters": "animationDelay",
      "fail": false,
      "actions": [
        {
          "id": "IF_LOCAL_PLAYER_MATCHES",
          "properties": {
            "Filter By": {
              "class": "Player",
              "logic": "NONE",
              "type": "NOT_ANIMATING",
              "operator": "EQUALS"
            }
          },
          "children": [
            {
              "id": "IF_VARIABLE_IS_NOT_SET",
              "properties": {
                "Variable name": "doAfterNotAnimatingAfter_time"
              },
              "children": [
                {
                  "id": "SET_VARIABLE_TO_CURRENT_TIME",
                  "properties": {
                    "Variable name": "doAfterNotAnimatingAfter_time"
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "ELSE_BRANCH",
          "children": [
            {
              "id": "DELETE_VARIABLE",
              "properties": {
                "Variable name": "doAfterNotAnimatingAfter_time"
              }
            }
          ]
        },
        {
          "id": "SET_VARIABLE_TO_CURRENT_TIME",
          "properties": {
            "Variable name": "doAfterNotAnimatingAfter_current_time"
          }
        },
        {
          "id": "IF_VALUE_IS",
          "properties": {
            "Value": "sub(var(doAfterNotAnimatingAfter_current_time), var(doAfterNotAnimatingAfter_time))",
            "Filter By": {
              "class": "Variable",
              "logic": "NONE",
              "type": "AS_NUMBER",
              "operator": "GREATER_THAN",
              "value": "parameter(animationDelay)"
            }
          },
          "children": [
            {
              "id": "_CUSTOM_ACTION_RETURN_TRUE"
            }
          ]
        },
        {
          "id": "ELSE_BRANCH",
          "children": [
            {
              "id": "_CUSTOM_ACTION_RETURN_FALSE"
            }
          ]
        }
      ]
    }
  }
}
